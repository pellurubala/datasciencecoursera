
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title> - jsFiddle demo</title>
  
  
  <script type='text/javascript' src='/js/lib/dummy.js'></script>
  
  
  
  
  <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  
    
      <script type='text/javascript' src="http://d3js.org/d3.v3.min.js"></script>
    
  
  <style type='text/css'>
    circle {
    cursor: pointer;
    stroke: #000;
    stroke-width: .5px;
}
line.link {
    fill: none;
    stroke: #9ecae1;
    stroke-width: 1.5px;
}
  </style>
  



<script type='text/javascript'>//<![CDATA[
window.onload=function(){
var w = 1400,
    h = 1400,
    node,
    link,
    root;

var force = d3.layout.force().on("tick", tick).charge(function (d) {
    return d.children ? -120 : -60 * Math.sqrt(d.size);
}).linkDistance(function (d) {
    return 80;
}).size([w, h - 160]);

var vis = d3.select("body").append("svg").attr("width", w).attr("height", h);

root = source;
root.fixed = true;
root.x = w / 2;
root.y = h / 2;
update();

function update() {
    nodes = flatten(root);
    links = d3.layout.tree().links(nodes);
    updateLinks();
    updateNodes();
}

function updateLinks() {

    force.links(links).start();

    link = vis.selectAll("line.link").data(links, function (d) {
        return d.target.id;
    });

    // Enter any new links.
    link.enter().insert("line", ".node")
        .attr("class", "link")
        .attr("x1", function (d) {
        return d.source.x;
    }).attr("y1", function (d) {
        return d.source.y;
    }).attr("x2", function (d) {
        return d.target.x;
    }).attr("y2", function (d) {
        return d.target.y;
    });

    link.exit().remove();

}

function updateNodes() {

    force.nodes(nodes).start();

    node = vis.selectAll(".node").data(nodes, function (d) {
        return d.id;
    });

    // Enter any new elements.
    var container = node.enter().append("g").attr("class", "node")
    .attr("transform", function (d) {
        return "translate(" + d.x + "," + d.y + ")";
    }).call(force.drag);
    container.append("circle").attr("r", radius).style("fill", color).on("click", click);
    container.append("text").style("text-anchor", "middle");

    // update radius and text
    node.selectAll("circle").transition().attr("r", radius).style("fill", color);
    node.selectAll("text").text(function (d) {
        return !d.children ? d.name : null;
    });

    node.exit().remove();
}

function tick() {
    link.attr("x1", function (d) {
        return d.source.x;
    }).attr("y1", function (d) {
        return d.source.y;
    }).attr("x2", function (d) {
        return d.target.x;
    }).attr("y2", function (d) {
        return d.target.y;
    });

    node.attr("transform", function (d) {
        return "translate(" + d.x + "," + d.y + ")";
    });
}

function radius(d) {
    return d.children ? 8 : Math.max(15, Math.sqrt(d.size));
}

// Color leaf nodes orange, and packages white or blue.
function color(d) {
    return d._children ? "#228B22" : d.children ? "#FFFF00" : "#90C590";
}

// Toggle children on click.
function click(d) {
    if (d.children) {
        d._children = d.children;
        d.children = null;
    } else {
        d.children = d._children;
        d._children = null;
    }
    update();
}

// Returns a list of all nodes under the root.
function flatten(root) {
    var nodes = [],
        i = 0;

    function recurse(node) {
        if (node.children) node.size = node.children.reduce(function (p, v) {
            return p + recurse(v);
        }, 0);
        if (!node.id) node.id = ++i;
        nodes.push(node);
        return node.size;
    }

    root.size = recurse(root);
    return nodes;
}
}//]]> 

</script>

</head>
<body>
<table bgcolor = "#90C590"  border= 1 width:30%>
  <tr>
<td>Legend </td>
<td>Positive Review </td>

  <tr>

  <tr>
    <td><font> <b>Stars</b></font></td>
    <td>4, 5</td>
  </tr>
  <tr>
    <td><font> <b>Votes.Cool</b></font></td>
    <td>10</td> 
  
  <tr>
</table>
  <script>
    var source = {
        "name": "Yelp Review",
            "children": [
                         {
            name: "Topic 1",
            children: [
                       {name: "service","size" : 525    },
                       {name: "http","size" : 449    },
                       {name: "www.yelp.com","size" : 393    },
                       {name: "select","size" : 328    },
                       {name: "biz_photos","size" : 308    },
                       {name: "friendly","size" : 209    },
                       {name: "staff","size" : 128    },
                       {name: "return","size" : 74    },
                       {name: "attentive","size" : 67    },
                       {name: "customer","size" : 63    },
                       {name: "helpful","size" : 51    },
                       {name: "userid","size" : 47    },
                       {name: "servers","size" : 45    },
                       {name: "las","size" : 45    },
                       {name: "challenge","size" : 40    },
                       {name: "100","size" : 37    },
                       {name: "user_local_photos","size" : 35    },
                       {name: "server","size" : 34    },
                       {name: "365","size" : 29    },
                       {name: "biz","size" : 29    }
    ]
        }, {
            name: "Topic 2",
            children: [
                       {name: "parking","size" : 151    },
                       {name: "know","size" : 110    },
                       {name: "card","size" : 67    },
                       {name: "free","size" : 65    },
                       {name: "line","size" : 61    },
                       {name: "man","size" : 59    },
                       {name: "car","size" : 58    },
                       {name: "thank","size" : 41    },
                       {name: "o","size" : 38    },
                       {name: "money","size" : 35    },
                       {name: "hair","size" : 35    },
                       {name: "candy","size" : 34    },
                       {name: "theater","size" : 33    },
                       {name: "phone","size" : 33    },
                       {name: "movie","size" : 33    },
                       {name: "tickets","size" : 33    },
                       {name: "cash","size" : 32    },
                       {name: "pay","size" : 31    },
                       {name: "m","size" : 29    },
                       {name: "gift","size" : 29    }
            ]
        }, {
            name: "Topic 3",
            children: [
                       {name: "room","size" : 207    },
                       {name: "hotel","size" : 148    },
                       {name: "pool","size" : 86    },
                       {name: "strip","size" : 81    },
                       {name: "music","size" : 75    },
                       {name: "bar","size" : 73    },
                       {name: "casino","size" : 69    },
                       {name: "rooms","size" : 66    },
                       {name: "area","size" : 63    },
                       {name: "floor","size" : 58    },
                       {name: "dining","size" : 52    },
                       {name: "decor","size" : 52    },
                       {name: "view","size" : 52    },
                       {name: "tables","size" : 51    },
                       {name: "club","size" : 45    },
                       {name: "seating","size" : 44    },
                       {name: "stay","size" : 44    },
                       {name: "patio","size" : 43    },
                       {name: "bathroom","size" : 42    },
                       {name: "lounge","size" : 42    }
            ]
        }, {
            name: "Topic 4",
            children: [
                       {name: "place","size" : 391    },
                       {name: "review","size" : 167    },
                       {name: "restaurant","size" : 117    },
                       {name: "buffet","size" : 108    },
                       {name: "yelp","size" : 107    },
                       {name: "vegas","size" : 88    },
                       {name: "lunch","size" : 83    },
                       {name: "reviews","size" : 77    },
                       {name: "food","size" : 72    },
                       {name: "location","size" : 62    },
                       {name: "going","size" : 59    },
                       {name: "time","size" : 57    },
                       {name: "breakfast","size" : 50    },
                       {name: "try","size" : 49    },
                       {name: "town","size" : 48    },
                       {name: "wait","size" : 46    },
                       {name: "dinner","size" : 45    },
                       {name: "i'll","size" : 44    },
                       {name: "eat","size" : 44    },
                       {name: "business","size" : 44    }
            ]
        }, {
            name: "Topic 5",
            children: [
                       {name: "chocolate","size" : 233    },
                       {name: "pizza","size" : 189    },
                       {name: "cream","size" : 149    },
                       {name: "bread","size" : 131    },
                       {name: "cake","size" : 115    },
                       {name: "ice","size" : 111    },
                       {name: "cheese","size" : 110    },
                       {name: "dessert","size" : 107    },
                       {name: "salad","size" : 94    },
                       {name: "fresh","size" : 66    },
                       {name: "butter","size" : 62    },
                       {name: "crust","size" : 56    },
                       {name: "flavors","size" : 52    },
                       {name: "sweet","size" : 48    },
                       {name: "vanilla","size" : 44    },
                       {name: "pie","size" : 42    },
                       {name: "tacos","size" : 40    },
                       {name: "banana","size" : 39    },
                       {name: "desserts","size" : 38    },
                       {name: "taco","size" : 36    }
            ]
        }
        , {
            name: "Topic 6",
            children: [
                       {name: "stars","size" : 193    },
                       {name: "drinks","size" : 156    },
                       {name: "5","size" : 156    },
                       {name: "wine","size" : 149    },
                       {name: "drink","size" : 147    },
                       {name: "beer","size" : 141    },
                       {name: "4","size" : 115    },
                       {name: "tea","size" : 102    },
                       {name: "10","size" : 95    },
                       {name: "hour","size" : 91    },
                       {name: "happy","size" : 82    },
                       {name: "coffee","size" : 63    },
                       {name: "glass","size" : 57    },
                       {name: "bottle","size" : 54    },
                       {name: "6","size" : 54    },
                       {name: "30","size" : 51    },
                       {name: "cocktails","size" : 46    },
                       {name: "beers","size" : 44    },
                       {name: "minutes","size" : 42    },
                       {name: "table","size" : 42    }
            ]
        },    {
            name: "Topic 7",
            children: [
                       {name: "burger","size" : 395    },
                       {name: "fries","size" : 318    },
                       {name: "sandwich","size" : 191    },
                       {name: "bacon","size" : 174    },
                       {name: "cheese","size" : 134    },
                       {name: "onion","size" : 101    },
                       {name: "dog","size" : 91    },
                       {name: "burgers","size" : 86    },
                       {name: "french","size" : 73    },
                       {name: "foie","size" : 70    },
                       {name: "donut","size" : 62    },
                       {name: "gras","size" : 62    },
                       {name: "sandwiches","size" : 60    },
                       {name: "potato","size" : 58    },
                       {name: "toast","size" : 57    },
                       {name: "hot","size" : 56    },
                       {name: "bun","size" : 56    },
                       {name: "onions","size" : 55    },
                       {name: "donuts","size" : 53    },
                       {name: "beef","size" : 52    }
            ]
        },    {
            name: "Topic 8",
            children: [
                       {name: "sushi","size" : 190    },
                       {name: "soup","size" : 141    },
                       {name: "fish","size" : 132    },
                       {name: "ramen","size" : 128    },
                       {name: "shrimp","size" : 128    },
                       {name: "spicy","size" : 125    },
                       {name: "crab","size" : 116    },
                       {name: "roll","size" : 109    },
                       {name: "dishes","size" : 101    },
                       {name: "japanese","size" : 96    },
                       {name: "noodles","size" : 95    },
                       {name: "tuna","size" : 85    },
                       {name: "rolls","size" : 82    },
                       {name: "lobster","size" : 75    },
                       {name: "broth","size" : 72    },
                       {name: "seafood","size" : 69    },
                       {name: "rice","size" : 69    },
                       {name: "salmon","size" : 50    },
                       {name: "pho","size" : 48    },
                       {name: "thai","size" : 48    }
            ]
        },    {
            name: "Topic 9",
            children: [
                       {name: "chicken","size" : 341    },
                       {name: "meat","size" : 152    },
                       {name: "pork","size" : 151    },
                       {name: "sauce","size" : 148    },
                       {name: "steak","size" : 127    },
                       {name: "flavor","size" : 116    },
                       {name: "beef","size" : 104    },
                       {name: "tender","size" : 101    },
                       {name: "fried","size" : 96    },
                       {name: "dish","size" : 95    },
                       {name: "cooked","size" : 94    },
                       {name: "potatoes","size" : 78    },
                       {name: "perfectly","size" : 67    },
                       {name: "bbq","size" : 66    },
                       {name: "rib","size" : 61    },
                       {name: "beans","size" : 57    },
                       {name: "rice","size" : 57    },
                       {name: "flavorful","size" : 55    },
                       {name: "juicy","size" : 54    },
                       {name: "crispy","size" : 50    }
            ]
        },    {
            name: "Topic 10",
            children: [
                       {name: "phoenix","size" : 92    },
                       {name: "park","size" : 87    },
                       {name: "class","size" : 51    },
                       {name: "mountain","size" : 41    },
                       {name: "art","size" : 41    },
                       {name: "bike","size" : 36    },
                       {name: "year","size" : 33    },
                       {name: "kids","size" : 33    },
                       {name: "life","size" : 30    },
                       {name: "museum","size" : 30    },
                       {name: "song","size" : 27    },
                       {name: "animals","size" : 27    },
                       {name: "school","size" : 25    },
                       {name: "hike","size" : 24    },
                       {name: "arizona","size" : 24    },
                       {name: "history","size" : 22    },
                       {name: "desert","size" : 22    },
                       {name: "airport","size" : 22    },
                       {name: "dress","size" : 22    },
                       {name: "store","size" : 21    }
            ]
        }
        ]
    };
</script>
  
</body>

</html>

